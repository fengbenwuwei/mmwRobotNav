# Indoor Environment Data Set

To capture the wireless coverage, we use the powerful ray
tracing package, Wireless InSite by Remcom which has
also been used in several other recent mmWave studies. 
Ray tracing uses a high-frequency approximation to
simulate the electromagnetic paths between any two locations.
As the Gibson dataset contains highly detailed and finegrained
3D models, we need to pre-process them in order
to reduce the computational effort when we use them as ray
tracing environments. Since we consider the navigation and
positioning problems in 2D and most of the buildings in the
data set are multi-story residence buildings, we first select and
extract one floor from each – an example is shown in Fig. 1.

<p align="center">
  <img src="https://github.com/nyu-wireless/mmwRobotNav/blob/main/figs/pick_one_floor.png" width="300">
  
  <em>Fig. 1: Most of 3D models in Gibson data set are the multi-storey
residence, in this example, the left figure shows a three layers house,
and we exact the second floor, as shown on the right, to generate our
test layout.</em>
</p>

Next, as shown in Fig. 2, the indoor environment contains
furniture, plants, and irregularly constructed structures. These
objects often have many non-smooth reflecting surfaces, which
significantly increases the amount of computing required for
the ray tracing. To simplify the 3D model, we utilize Habitat-
Sim to capture a floor plan – making the model
essentially 2D. Also, as far as possible, the irregular and
uneven walls, ceilings, and floors of the original 3D model are
transformed into smooth planes. The edges of the simplified
2D floor plan are then vertically extended to create walls. The
resulting 3D map can then be imported to Remcom Wireless
Insite – See Fig. 3.

<p align="center">
  <img src="https://github.com/nyu-wireless/mmwRobotNav/blob/main/figs/room-inside.png" width="300">
  
  <em>Fig. 2: A typical indoor environment in the Gibson data set with
furniture, plants, and irregular building structures that significantly
increases computational load for ray tracing.</em>
</p>
<p align="center">
  <img src="https://github.com/nyu-wireless/mmwRobotNav/blob/main/figs/map_convert.png" width="500">
  
  <em>Fig. 3: An example of the indoor environment map, 24x24 (meters),
which is generated by the Habitat-Sim. And the Wireless InSite
by Remcom uses the top-down map to rebuild the 3D indoor
model. Some assumptions are made to reduce the amount of ray
tracing calculation.</em>
</p>

For each imported map, we then place the transmitters in
10 randomly selected locations representing 10 possible target 
positions. The ray tracing is then used to estimate the wireless
paths at RX locations on a 160 x 160 grid with 0.15 x 0.15
m grid representing a total area of 24 m^2. Example ray tracing
simulations areas are shown in Fig. 4.
The ray tracing is performed at 28 GHz, the most
commonly-used frequency for 5G mmWave devices. We
ignore the difference of material and treat all walls as the
ITU (International Telecommunication Union) layered drywall
whose permittivity is 2.94 (F/m) and conductivity is 0.1226
(S/m) in 28 GHz.
<p align="center">
  <img src="https://github.com/nyu-wireless/mmwRobotNav/blob/main/figs/remcom_maps.png" width="400">
  
  <em>Fig. 4: Four examples of ray tracing simulation area. In each map,
ten green dots represent transmitter locations and a red dots grid
represents the receiver grid with total 25,600 receivers. (The ceiling
of room is not shown.)</em>
</p>
